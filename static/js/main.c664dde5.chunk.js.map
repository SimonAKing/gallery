{"version":3,"sources":["components/Footer.js","components/Tilt.js","components/Gallery/utils/round.js","components/Gallery/utils/background.js","components/Gallery/index.js","components/Gallery/layouts/columns.js","components/Lightbox.js","utils.js","App.js","photos.js","index.js"],"names":["Footer","_jsxs","children","_jsx","href","target","Tilt","_ref","className","style","rotationFactor","isRevese","springOptions","stiffness","damping","elementRef","useRef","requestRef","previousTimeRef","rotationRef","x","y","targetRotationRef","velocityRef","useEffect","element","current","animateSpring","time","undefined","deltaTime","Math","min","stillMoving","forEach","axis","displacement","force","abs","transform","requestAnimationFrame","handleMouseMove","e","rect","getBoundingClientRect","width","height","normalizedX","clientX","left","normalizedY","clientY","top","calculateTargetRotation","handleMouseLeave","addEventListener","removeEventListener","cancelAnimationFrame","ref","transformStyle","willChange","transition","round","value","decimals","Number","colors","map","color","getRandomColor","floor","random","length","Gallery","photos","onClick","margin","onLoad","containerWidth","setContainerWidth","useState","galleryEl","useLayoutEffect","animationFrameID","observer","ResizeObserver","entries","newWidth","contentRect","window","observe","disconnect","computedPhotos","galleryStyle","useMemo","columns","computeDynamicColumns","colWidth","photosWithSizes","photo","newHeight","colLeftPositions","colCurrTopPositions","i","smallestCol","reduce","acc","item","tallestCol","containerHeight","computeColumnLayout","position","handleClick","useCallback","event","_ref2","index","previous","next","refs","Array","from","React","createRef","_ref3","bgColors","id","src","title","alt","hash","Blurhash","resolutionX","resolutionY","punch","defaultProps","memo","Lightbox","viewerIsOpen","currentPhoto","closeLightbox","ModalGateway","Modal","onClose","Carousel","currentIndex","showNavigationOnTouchDevice","views","size","caption","throttle","fn","wait","inThrottle","lastFn","lastTime","context","this","args","arguments","apply","Date","now","clearTimeout","setTimeout","max","isElementInViewport","el","windowHeight","innerHeight","document","documentElement","clientHeight","windowWidth","innerWidth","clientWidth","eleTop","eleBottom","bottom","eleLeft","eleRight","right","visibleHeight","visibleWidth","console","log","totalArea","visibleArea","visibleRatio","toFixed","threshold","lazyLoad","images","every","image","validImages","filter","img","hadLoadSymbol","fill","loadImage","dataset","original","Image","onload","classList","add","photoDiv","closest","blurhash","querySelector","onerror","lazyLoadEvent","processImages","isVisible","filteredPhotos","App","setCurrentPhoto","setViewerIsOpen","openLightbox","_Fragment","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c664dde5.chunk.js","sourcesContent":["import React from 'react'\n\nfunction Footer() {\n  return (<footer><span>© </span> 2025 <a href=\"https://simonaking.com/\" target=\"blank\">SimonAKing</a></footer>)\n}\n\nexport default Footer\n","import React, { useRef, useEffect } from 'react'\nimport PropTypes from 'prop-types'\n\nexport function Tilt({\n  children,\n  className,\n  style,\n  rotationFactor = 15,\n  isRevese = false,\n  springOptions = { stiffness: 0.15, damping: 0.8 },\n}) {\n  const elementRef = useRef(null)\n  const requestRef = useRef(null)\n  const previousTimeRef = useRef(null)\n\n  // Position state stored in refs to avoid re-renders\n  const rotationRef = useRef({ x: 0, y: 0 }) // Current rotation values\n  const targetRotationRef = useRef({ x: 0, y: 0 }) // Target rotation values\n  const velocityRef = useRef({ x: 0, y: 0 }) // Current velocity\n\n  useEffect(() => {\n    const element = elementRef.current\n    if (!element) return\n\n    // Reset rotation and velocity\n    const resetRotation = () => {\n      targetRotationRef.current = { x: 0, y: 0 }\n    }\n\n    // Calculate target rotation based on mouse position\n    const calculateTargetRotation = (e) => {\n      if (!elementRef.current) return\n\n      const rect = elementRef.current.getBoundingClientRect()\n      const width = rect.width\n      const height = rect.height\n\n      // Get mouse position relative to element\n      const mouseX = e.clientX - rect.left\n      const mouseY = e.clientY - rect.top\n\n      // Calculate normalized position (-0.5 to 0.5)\n      const normalizedX = (mouseX / width) - 0.5\n      const normalizedY = (mouseY / height) - 0.5\n\n      // Set target rotation with proper sign based on isRevese\n      targetRotationRef.current = {\n        x: isRevese ? -normalizedY * rotationFactor : normalizedY * rotationFactor,\n        y: isRevese ? normalizedX * rotationFactor : -normalizedX * rotationFactor,\n      }\n    }\n\n    // Animation loop using spring physics\n    const animateSpring = (time) => {\n      if (previousTimeRef.current === undefined) {\n        previousTimeRef.current = time\n      }\n\n      const deltaTime = Math.min((time - previousTimeRef.current) / 1000, 0.1) // seconds, capped to avoid huge jumps\n      previousTimeRef.current = time\n\n      // For each axis (x and y)\n      const axes = ['x', 'y']\n      let stillMoving = false\n\n      axes.forEach(axis => {\n        // Spring physics\n        // F = -kx - cv (where k = stiffness, c = damping, x = displacement, v = velocity)\n        const displacement = rotationRef.current[axis] - targetRotationRef.current[axis]\n        const springForce = -springOptions.stiffness * displacement\n        const dampingForce = -springOptions.damping * velocityRef.current[axis]\n        const force = springForce + dampingForce\n\n        // Update velocity (a = F/m, where we assume m = 1)\n        velocityRef.current[axis] += force * deltaTime\n\n        // Update position\n        rotationRef.current[axis] += velocityRef.current[axis] * deltaTime\n\n        // Check if still moving significantly\n        if (\n          Math.abs(displacement) > 0.01 ||\n          Math.abs(velocityRef.current[axis]) > 0.01\n        ) {\n          stillMoving = true\n        }\n      })\n\n      // Apply transform to element\n      if (elementRef.current) {\n        elementRef.current.style.transform = `perspective(1000px) rotateX(${rotationRef.current.x}deg) rotateY(${rotationRef.current.y}deg)`\n      }\n\n      // Continue animation if still moving\n      if (stillMoving) {\n        requestRef.current = requestAnimationFrame(animateSpring)\n      } else {\n        requestRef.current = null\n      }\n    }\n\n    // Event handlers\n    const handleMouseMove = (e) => {\n      calculateTargetRotation(e)\n\n      // Start animation loop if not already running\n      if (!requestRef.current) {\n        previousTimeRef.current = undefined\n        requestRef.current = requestAnimationFrame(animateSpring)\n      }\n    }\n\n    const handleMouseLeave = () => {\n      resetRotation()\n\n      // Ensure animation is running to return to flat state\n      if (!requestRef.current) {\n        previousTimeRef.current = undefined\n        requestRef.current = requestAnimationFrame(animateSpring)\n      }\n    }\n\n    // Add event listeners\n    element.addEventListener('mousemove', handleMouseMove)\n    element.addEventListener('mouseleave', handleMouseLeave)\n\n    // Clean up\n    return () => {\n      element.removeEventListener('mousemove', handleMouseMove)\n      element.removeEventListener('mouseleave', handleMouseLeave)\n\n      if (requestRef.current) {\n        cancelAnimationFrame(requestRef.current)\n      }\n    }\n  }, [rotationFactor, isRevese, springOptions.stiffness, springOptions.damping])\n\n  return (\n    <div\n      ref={elementRef}\n      className={className}\n      style={{\n        transformStyle: 'preserve-3d',\n        willChange: 'transform',\n        transition: 'transform 0s',\n        ...style,\n      }}\n    >\n      {children}\n    </div>\n  )\n}\n\nTilt.propTypes = {\n  children: PropTypes.node.isRequired,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  rotationFactor: PropTypes.number,\n  isRevese: PropTypes.bool,\n  springOptions: PropTypes.object,\n}\n\nexport default Tilt\n","export const round = (value, decimals) => {\n  if (!decimals) decimals = 0\n  return Number(`${Math.round(`${value}e${decimals}`)}e-${decimals}`)\n}\n","const prefix = 'data:image/png;base64,'\n\nconst white =\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII='\nconst green =\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mOM3dv8HwAFugKeFHNe2gAAAABJRU5ErkJggg=='\nconst green2 =\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mOsLSv4DwAFPwJkf7xuOwAAAABJRU5ErkJggg=='\nconst yellow =\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8/7/wPwAI5ANwEHGVPQAAAABJRU5ErkJggg=='\nconst yellow2 =\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mO8cXX9fwAIRgNdOpasaAAAAABJRU5ErkJggg=='\nconst orange =\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mN80S37HwAGhAKRsld48QAAAABJRU5ErkJggg=='\nconst red =\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mN8rhn2HwAFzAJnxf9sDQAAAABJRU5ErkJggg=='\nconst blue =\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mMMbnrxHwAFqwK+oiXE3gAAAABJRU5ErkJggg=='\nconst blue2 =\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mM03nvtPwAFuALHzaThLAAAAABJRU5ErkJggg=='\nconst blue3 =\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkyuj5DwADYQH3Gb9KdwAAAABJRU5ErkJggg=='\nconst purple =\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mOcmvfiPwAGdwLsInOerQAAAABJRU5ErkJggg=='\nconst deepPurple =\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNMter+DwAEYQIr1DLJIQAAAABJRU5ErkJggg=='\nconst morePurple =\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mOcI9v1HwAE5AJEQOnd/AAAAABJRU5ErkJggg=='\nconst pink =\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP81nPmPwAIHQNPG1c/KwAAAABJRU5ErkJggg=='\nconst pink2 =\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mM85tf3HwAGJwKj3F8CBQAAAABJRU5ErkJggg=='\nconst gray =\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mOsLSv4DwAFPwJkf7xuOwAAAABJRU5ErkJggg=='\nconst red2 =\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNstk38DwAEjgIiTpcmsQAAAABJRU5ErkJggg=='\nconst green3 =\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mM8fP/ufwAIbAOAdKkwIAAAAABJRU5ErkJggg=='\nconst orange2 =\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mM85tf3HwAGJwKj3F8CBQAAAABJRU5ErkJggg=='\nconst brown =\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mOsyAz6DwAEyAI0CG2DPQAAAABJRU5ErkJggg=='\n\nconst colors = [\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mO0Scz4DwAD7AIGykeHNgAAAABJRU5ErkJggg==',\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNsfP3lPwAHtgNhjbed3QAAAABJRU5ErkJggg==',\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mO08+/9DwAECAIbYvarOwAAAABJRU5ErkJggg==',\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mPUSjf9DwADUAHH2R4+qQAAAABJRU5ErkJggg==',\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mPsmL/9PwAGdALfLLTZgwAAAABJRU5ErkJggg==',\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mMM2FD3HwAFVQJ/wQSakQAAAABJRU5ErkJggg==',\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mOcUtf+HwAF4QKaLYURggAAAABJRU5ErkJggg==',\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mO007D9DwAC8wGkgAj2wQAAAABJRU5ErkJggg==',\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mPk7Z/6HwAEFAIygk/bbQAAAABJRU5ErkJggg==',\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mM85i3/HwAFQAIxwDfEwwAAAABJRU5ErkJggg==',\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mMU9Hj3HwAEAQJI0J8X3wAAAABJRU5ErkJggg==',\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNUk+f6DwACEgFQ4cywdAAAAABJRU5ErkJggg==',\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mOcd/rmfwAHlANDxXJFGwAAAABJRU5ErkJggg==',\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNsSun9DwAFVwJ0Dslp5gAAAABJRU5ErkJggg==',\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNMMSz/DwAEGgINf5zfKgAAAABJRU5ErkJggg==',\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNcVZn/HwAF+gKTwpRdtAAAAABJRU5ErkJggg==',\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNcVZn/HwAF+gKTwpRdtAAAAABJRU5ErkJggg==',\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mN0z4z6DwAEFAILQQRF+gAAAABJRU5ErkJggg==',\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNMnnr4PwAF2gK8g2AjSgAAAABJRU5ErkJggg==',\n  'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8/WT+fwAI3wN/ghaxIAAAAABJRU5ErkJggg==',\n  brown,\n  white,\n  green,\n  green2,\n  red2,\n  yellow,\n  blue3,\n  yellow2,\n  orange,\n  orange2,\n  red,\n  green3,\n  pink2,\n  blue,\n  purple,\n  morePurple,\n  blue2,\n  gray,\n  deepPurple,\n  pink,\n].map(color => prefix + color)\n\nconst getRandomColor = () => colors[Math.floor(Math.random() * colors.length)]\n\nexport default getRandomColor\n","import PropTypes from 'prop-types'\nimport React, {\n  useCallback,\n  useEffect,\n  useLayoutEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react'\nimport { Blurhash } from 'react-blurhash'\nimport ResizeObserver from 'resize-observer-polyfill'\nimport Tilt from '../Tilt'\nimport { computeColumnLayout, computeDynamicColumns } from './layouts/columns'\nimport getRandomColor from './utils/background'\n\nfunction Gallery({ photos, onClick, margin, onLoad }) {\n  const [containerWidth, setContainerWidth] = useState(0)\n  const galleryEl = useRef(null)\n\n  useLayoutEffect(() => {\n    let animationFrameID = null\n    const observer = new ResizeObserver(entries => {\n      const newWidth = entries[0].contentRect.width\n      if (containerWidth !== newWidth) {\n        animationFrameID = window.requestAnimationFrame(() => {\n          setContainerWidth(Math.floor(newWidth))\n        })\n      }\n    })\n    observer.observe(galleryEl.current)\n    return () => {\n      observer.disconnect()\n      window.cancelAnimationFrame(animationFrameID)\n    }\n  })\n\n  const [computedPhotos, galleryStyle] = useMemo(() => {\n    const columns = computeDynamicColumns(containerWidth)\n    const computedPhotos = computeColumnLayout({\n      containerWidth: containerWidth - 1,\n      columns,\n      margin,\n      photos,\n    })\n    const galleryStyle = { position: 'relative' }\n    if (computedPhotos.length > 0) {\n      galleryStyle.height =\n        computedPhotos[computedPhotos.length - 1].containerHeight\n    }\n    return [computedPhotos, galleryStyle]\n  }, [containerWidth, margin, photos])\n\n  const handleClick = useCallback(\n    (event, { index }) => {\n      onClick(event, {\n        index,\n        photo: photos[index],\n        previous: photos[index - 1] || null,\n        next: photos[index + 1] || null,\n      })\n    },\n    [onClick, photos]\n  )\n\n  const refs = useMemo(\n    () => Array.from({ length: photos.length }, () => React.createRef()),\n    [photos.length]\n  )\n\n  useEffect(() => {\n    onLoad(refs.map(({ current }) => current))\n  }, [onLoad, refs])\n\n  const bgColors = useMemo(\n    () => Array.from({ length: photos.length }, getRandomColor),\n    [photos.length]\n  )\n\n  return (\n    <div id=\"gallery\" ref={galleryEl} style={galleryStyle}>\n      {computedPhotos.map((photo, index) => {\n        const { src, top, left, width, height, title, alt, hash } = photo\n        const style = {\n          position: 'absolute',\n          top,\n          left,\n          width,\n          height,\n          margin,\n        }\n        const onClick = event => {\n          handleClick(event, { photo, index })\n        }\n\n        return (\n          <Tilt\n            key={src}\n            style={style}\n            rotationFactor={5}\n            springOptions={{ stiffness: 300, damping: 20 }}>\n            <div className=\"photo\" onClick={onClick}>\n              <Blurhash\n                hash={hash}\n                width={width}\n                height={height}\n                resolutionX={32}\n                resolutionY={32}\n                punch={1}\n                className=\"blurhash-placeholder\"\n              />\n              <img\n                ref={refs[index]}\n                src={bgColors[index]}\n                data-original={src}\n                width={width}\n                height={height}\n                alt={alt}\n                // title={title}\n                className=\"photo-image\"\n              />\n              <span className=\"photo-title\">{title}</span>\n            </div>\n          </Tilt>\n        )\n      })}\n    </div>\n  )\n}\n\nGallery.propTypes = {\n  photos: PropTypes.array,\n  margin: PropTypes.number,\n  onClick: PropTypes.func,\n  onLoad: PropTypes.func,\n}\n\nGallery.defaultProps = {\n  margin: 8,\n}\n\nexport default React.memo(Gallery)\n","import { round } from '../utils/round'\n\n// compute sizes for column directed layouts\nexport const computeColumnLayout = ({\n  photos,\n  columns,\n  containerWidth,\n  margin,\n}) => {\n  // calculate each colWidth based on total width and column amount\n  let colWidth = (containerWidth - margin * 2 * columns) / columns\n\n  // map through each photo to assign adjusted height and width based on colWidth\n  const photosWithSizes = photos.map(photo => {\n    const newHeight = (photo.height / photo.width) * colWidth\n    return {\n      ...photo,\n      width: round(colWidth, 1),\n      height: round(newHeight, 1),\n    }\n  })\n\n  // store all possible left positions\n  // and current top positions for each column\n  const colLeftPositions = []\n  const colCurrTopPositions = []\n  for (let i = 0; i < columns; i++) {\n    colLeftPositions[i] = round(i * (colWidth + margin * 2), 1)\n    colCurrTopPositions[i] = 0\n  }\n\n  // map through each photo, then reduce thru each \"column\"\n  // find column with the smallest height and assign to photo's 'top'\n  // update that column's height with this photo's height\n  const photosPositioned = photosWithSizes.map(photo => {\n    const smallestCol = colCurrTopPositions.reduce((acc, item, i) => {\n      acc = item < colCurrTopPositions[acc] ? i : acc\n      return acc\n    }, 0)\n\n    photo.top = colCurrTopPositions[smallestCol]\n    photo.left = colLeftPositions[smallestCol]\n    colCurrTopPositions[smallestCol] =\n      colCurrTopPositions[smallestCol] + photo.height + margin * 2\n\n    // store the tallest col to use for gallery height because of abs positioned elements\n    const tallestCol = colCurrTopPositions.reduce((acc, item, i) => {\n      acc = item > colCurrTopPositions[acc] ? i : acc\n      return acc\n    }, 0)\n    photo.containerHeight = colCurrTopPositions[tallestCol]\n    return photo\n  })\n  return photosPositioned\n}\n\nexport const computeDynamicColumns = containerWidth => {\n  let columns = 1\n  if (containerWidth >= 500) columns = 2\n  if (containerWidth >= 900) columns = 3\n  if (containerWidth >= 1500) columns = 4\n  if (containerWidth >= 2200) columns = 5\n  if (containerWidth >= 3000) columns = 6\n  if (containerWidth >= 3800) columns = 7\n  if (containerWidth >= 4500) columns = 8\n  if (containerWidth >= 5300) columns = 9\n  return columns\n}\n","import PropTypes from 'prop-types'\nimport React from 'react'\n\nimport Carousel, { Modal, ModalGateway } from 'react-images'\n\nfunction Lightbox({ viewerIsOpen, photos, currentPhoto, closeLightbox }) {\n  return (\n    <ModalGateway>\n      {viewerIsOpen ? (\n        <Modal onClose={closeLightbox}>\n          <Carousel\n            currentIndex={currentPhoto}\n            showNavigationOnTouchDevice\n            views={photos.map(({ src, title, size: { height, width } }) => ({\n              src,\n              caption: title,\n              width,\n              height,\n            }))}\n          />\n        </Modal>\n      ) : null}\n    </ModalGateway>\n  )\n}\n\nLightbox.propTypes = {\n  viewerIsOpen: PropTypes.bool,\n  photos: PropTypes.array,\n  currentPhoto: PropTypes.number,\n  closeLightbox: PropTypes.func,\n}\n\nexport default React.memo(Lightbox)\n","// import { PowerGlitch } from 'powerglitch'\n\nconst throttle = (fn, wait) => {\n  let inThrottle, lastFn, lastTime\n  return function () {\n    const context = this\n    const args = arguments\n    if (!inThrottle) {\n      inThrottle = true\n      fn.apply(context, args)\n      lastTime = Date.now()\n      return\n    }\n\n    clearTimeout(lastFn)\n    lastFn = setTimeout(function () {\n      if (Date.now() - lastTime >= wait) {\n        fn.apply(context, args)\n        lastTime = Date.now()\n      }\n    }, Math.max(wait - (Date.now() - lastTime), 0))\n  }\n}\n\nfunction isElementInViewport(el, index) {\n  const rect = el.getBoundingClientRect()\n  const windowHeight =\n    window.innerHeight || document.documentElement.clientHeight\n  const windowWidth = window.innerWidth || document.documentElement.clientWidth\n\n  // 使用更严格的条件：只有当图片至少有70%在视口内时才触发加载\n  // 计算元素在视口中的位置\n  const eleTop = rect.top\n  const eleBottom = rect.bottom\n  const eleLeft = rect.left\n  const eleRight = rect.right\n\n  // 计算元素在视口中的可见部分\n  const visibleHeight = Math.min(eleBottom, windowHeight) - Math.max(eleTop, 0)\n  const visibleWidth = Math.min(eleRight, windowWidth) - Math.max(eleLeft, 0)\n\n  // 如果元素完全不在视口内\n  if (visibleHeight <= 0 || visibleWidth <= 0) {\n    console.log(`Element ${index} is not in viewport at all`, {\n      rect: {\n        top: rect.top,\n        right: rect.right,\n        bottom: rect.bottom,\n        left: rect.left,\n      },\n      windowHeight,\n      windowWidth,\n    })\n    return false\n  }\n\n  const totalArea = rect.width * rect.height\n  const visibleArea = visibleWidth * visibleHeight\n  const visibleRatio = visibleArea / totalArea\n\n  console.log(`Element ${index} visibility metrics:`, {\n    visibleRatio: visibleRatio.toFixed(2),\n    visibleArea,\n    totalArea,\n    threshold: 0.7,\n  })\n\n  return visibleRatio >= 0.5\n}\n\nfunction lazyLoad(images) {\n  if (!images || !images.length || images.every(image => !image)) {\n    console.log('No valid images to lazy load')\n    return\n  }\n\n  console.log(`Setting up lazy loading for ${images.length} images`)\n\n  // 检查传入的图片元素是否有效\n  const validImages = images.filter((img, i) => {\n    if (!img || !img.getBoundingClientRect) {\n      console.log(`Invalid image at index ${i}:`, img)\n      return false\n    }\n    return true\n  })\n\n  if (validImages.length === 0) {\n    console.log('No valid images found for lazy loading')\n    return\n  }\n\n  console.log(`Found ${validImages.length} valid images for lazy loading`)\n\n  const hadLoadSymbol = Array.from({ length: validImages.length }).fill(false)\n\n  function loadImage(el, index) {\n    if (!el || !el.dataset || !el.dataset.original) {\n      console.log(\n        `Cannot load image ${index}: Invalid element or missing data-original attribute`\n      )\n      hadLoadSymbol[index] = true\n      return\n    }\n\n    const src = el.dataset.original\n    console.log(`Loading image ${index} from src: ${src}`)\n\n    const img = new Image()\n    img.src = src\n    img.onload = function () {\n      console.log(`Image ${index} loaded successfully`)\n      el.classList.add('loaded')\n      el.src = src\n      hadLoadSymbol[index] = true\n      // PowerGlitch.glitch(el)\n\n      // 淡出 BlurHash 占位图\n      const photoDiv = el.closest('.photo')\n      if (photoDiv) {\n        const blurhash = photoDiv.querySelector('.blurhash-placeholder')\n        if (blurhash) {\n          blurhash.classList.add('fade-out')\n        }\n      }\n    }\n    img.onerror = function () {\n      console.log(`Error loading image ${index} from src: ${src}`)\n      hadLoadSymbol[index] = true\n    }\n  }\n\n  const lazyLoadEvent = throttle(processImages, 120)\n  window.addEventListener('scroll', lazyLoadEvent, false)\n\n  function processImages() {\n    if (hadLoadSymbol.every(el => !!el)) {\n      console.log('All images loaded, removing scroll listener')\n      window.removeEventListener('scroll', lazyLoadEvent)\n      return\n    }\n\n    console.log('Processing images on scroll...')\n\n    for (let i = 0; i < validImages.length; ++i) {\n      if (hadLoadSymbol[i]) {\n        continue // Skip already loaded images\n      }\n\n      const el = validImages[i]\n      console.log(`Checking image ${i} visibility...`)\n\n      // 使用更严格的可见性条件\n      const isVisible = isElementInViewport(el, i)\n\n      if (!hadLoadSymbol[i] && isVisible) {\n        console.log(`Image ${i} is visible, starting load`)\n        loadImage(el, i)\n      } else {\n        console.log(`Image ${i} is not visible yet, skipping`)\n      }\n    }\n  }\n\n  // 延迟初始处理，确保DOM已完全渲染\n  setTimeout(() => {\n    console.log('Initial image visibility check')\n    processImages()\n  }, 300)\n}\n\nconst canUseWebP = () => {\n  const canvas = document.createElement('canvas')\n  if (canvas.getContext && canvas.getContext('2d')) {\n    // eslint-disable-next-line eqeqeq\n    return canvas.toDataURL('image/webp').indexOf('data:image/webp') == 0\n  }\n  return false\n}\n\nconst filterPhotos = photos =>\n  canUseWebP()\n    ? photos.map(({ src, ...rest }) => ({\n      ...rest,\n      src: src.replace(/((.jpg)|(.jpeg)|(.png))$/, '.webp'),\n    }))\n    : photos\n\nexport { lazyLoad, filterPhotos }\n","import React, { useCallback, useState } from 'react'\nimport Footer from './components/Footer.js'\nimport Gallery from './components/Gallery/index.js'\nimport Lightbox from './components/Lightbox.js'\nimport photos from './photos.js'\n\nimport { lazyLoad } from './utils.js'\n\nconst filteredPhotos = photos\n\nfunction App() {\n  const [currentPhoto, setCurrentPhoto] = useState(0)\n  const [viewerIsOpen, setViewerIsOpen] = useState(false)\n\n  const openLightbox = useCallback((event, { photo, index }) => {\n    setCurrentPhoto(index)\n    setViewerIsOpen(true)\n  }, [])\n\n  const closeLightbox = useCallback(() => {\n    setCurrentPhoto(0)\n    setViewerIsOpen(false)\n  }, [])\n\n  return (\n    <>\n      <Gallery\n        photos={filteredPhotos}\n        onLoad={lazyLoad}\n        onClick={openLightbox}\n      />\n      <Lightbox\n        photos={filteredPhotos}\n        viewerIsOpen={viewerIsOpen}\n        currentPhoto={currentPhoto}\n        closeLightbox={closeLightbox}\n      />\n      <Footer />\n    </>\n  )\n}\n\nexport default App\n","export default [\n  { src: 'https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/托尔大大.png', title: '托尔大大', alt: '托尔大大', width: 1, height: 1, size: { height: 1744, width: 1770 }, hash: 'UZReTp.mvzM{#jS$Ros8H?rVahkDxDS4W-n+' },\n  { src: 'https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/小鸟开会.jpeg', title: '小鸟开会', alt: '小鸟开会', width: 39, height: 29, size: { height: 3472, width: 4624 }, hash: 'U7EpV]4Y02jE_J--M|a64a_JkRM}?rIWD+ox' },\n  { src: 'https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/👶🏻🕊.jpeg', title: '👶🏻🕊', alt: '👶🏻🕊', width: 39, height: 29, size: { height: 3472, width: 4624 }, hash: 'UOHxsbxvR*sl~qj^axRktRn,V@WX-:xaRkRj' },\n  { src: 'https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/心里的花.jpeg', title: '心里的花', alt: '心里的花', width: 39, height: 29, size: { height: 3472, width: 4624 }, hash: 'U4AKNk8;tUTu*?9=KZE50eJ{Ux%E%i.R~U%2' },\n  { src: 'https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/塔.jpeg', title: '塔', alt: '塔', width: 39, height: 29, size: { height: 3472, width: 4624 }, hash: 'U88ZvTHXt:V?MIx@kYi]pLnzmio~V{o#nzog' },\n  { src: 'https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/黑白🐟.png', title: '黑白🐟', alt: '黑白🐟', width: 1, height: 1, size: { height: 910, width: 914 }, hash: 'U7Q+yKxt%jWF.6V[ofWBx{oLE3xtt8WBofWB' },\n  { src: 'https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/🪶.jpeg', title: '🪶', alt: '🪶', width: 39, height: 29, size: { height: 3472, width: 4624 }, hash: 'U27qW|_Lxbtl8wV?kDW9t3bIf6j?RPkDacbJ' },\n  { src: 'https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/一般黑.jpeg', title: '一般黑', alt: '一般黑', width: 34, height: 25, size: { height: 3024, width: 4032 }, hash: 'UiJ8*E?wIA%g_4%gM_RPIARiofayt7ofaytR' },\n  { src: 'https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/💚.jpeg', title: '💚', alt: '💚', width: 29, height: 39, size: { height: 4624, width: 3472 }, hash: 'UCFEs9vg4T.mu*%N%hD$bwT0s.RPxvMxemtS' },\n  { src: 'https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/🚇🌧🏠.jpeg', title: '🚇🌧🏠', alt: '🚇🌧🏠', width: 34, height: 23, size: { height: 2771, width: 4032 }, hash: 'UWFPHV4nD%~q-=IUIUxvf4WDRkaeRjofWBRk' },\n  { src: 'https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/Redirect.png', title: 'Redirect', alt: 'Redirect', width: 7, height: 4, size: { height: 484, width: 802 }, hash: 'U17UrH=%4W#?s;xA-M-n00-#-:wbIU$|?FR5' },\n  { src: 'https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/87の🕊.jpeg', title: '87の🕊', alt: '87の🕊', width: 16, height: 8, size: { height: 972, width: 1920 }, hash: 'UBKnh}~S%00PxvEQs*RkIqNIR.jrIVIpt7t6' },\n  { src: 'https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/WechatIMG19.jpg', title: 'WechatIMG19', alt: 'WechatIMG19', width: 11, height: 23, size: { height: 2782, width: 1279 }, hash: 'U4J*uA00kC4n00%M~X4n-;_3-;-;00NGjt%M' },\n  { src: 'https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/😾.jpeg', title: '😾', alt: '😾', width: 14, height: 11, size: { height: 1278, width: 1706 }, hash: 'UBHf31OPkVIV00^ntPM_Eu4nnnxt?G4-NFxc' },\n  { src: 'https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/🀄️.jpeg', title: '🀄️', alt: '🀄️', width: 14, height: 11, size: { height: 1278, width: 1706 }, hash: 'UCJ[08RiD*s,~UM|aLoLM|Rj9GRj~VRjR*t7' },\n  { src: 'https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/🤡.jpeg', title: '🤡', alt: '🤡', width: 14, height: 11, size: { height: 1278, width: 1706 }, hash: 'UNHxTj?G?br=~q%LxuRjbwIqbFR+-pD*aet6' },\n  { src: 'https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/WechatIMG22.jpg', title: 'WechatIMG22', alt: 'WechatIMG22', width: 16, height: 11, size: { height: 1279, width: 1943 }, hash: 'UODJS6tS4nog_Nx]IUj]NLxuxtazE2t7%Mf6' },\n  { src: 'https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/老树昏鸦.jpeg', title: '老树昏鸦', alt: '老树昏鸦', width: 14, height: 11, size: { height: 1279, width: 1706 }, hash: 'UaMtQ{?a?Hs:_NWBIUofIVt7ayayayj[ofRj' },\n  { src: 'https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/WechatIMG79.jpg', title: 'WechatIMG79', alt: 'WechatIMG79', width: 11, height: 14, size: { height: 1706, width: 1279 }, hash: 'U8Kcd+TV0Msl03={xY={00R89#R,0hNI~9NH' },\n  { src: 'https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/WechatIMG21.jpg', title: 'WechatIMG21', alt: 'WechatIMG21', width: 14, height: 11, size: { height: 1279, width: 1706 }, hash: 'UpGl*MoNtRMx?wkBogWAxvfRRjt8x]WBM{oz' },\n  { src: 'https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/撞色.jpg', title: '撞色', alt: '撞色', width: 1, height: 1, size: { height: 1080, width: 1080 }, hash: 'UA9u8d4T23XBIVxvRPof6EtS]fV@t7V@kCax' },\n  { src: 'https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/WechatIMG31.jpg', title: 'WechatIMG31', alt: 'WechatIMG31', width: 14, height: 11, size: { height: 1279, width: 1706 }, hash: 'UFK9M%}s0y-p~oV[RoS$9iIvRQbH9s%KOqoN' },\n  { src: 'https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/无公众号.jpg', title: '无公众号', alt: '无公众号', width: 9, height: 19, size: { height: 2280, width: 1080 }, hash: 'U2R{#?9F~q?b00xu%MRj9Fxv9FM{00ay?bay' },\n  { src: 'https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/WechatIMG18.jpg', title: 'WechatIMG18', alt: 'WechatIMG18', width: 14, height: 11, size: { height: 1279, width: 1706 }, hash: 'UfG+UKozIVWB_NWrR*fk-pRQogozV@WBt7R*' },\n  { src: 'https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/光芒万丈.jpg', title: '光芒万丈', alt: '光芒万丈', width: 9, height: 12, size: { height: 1440, width: 1080 }, hash: 'U7GI$N0000_3.AER-kM{nM0M?G?bDi%MI[xY' },\n  { src: 'https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/辉夜大小姐.jpg', title: '辉夜大小姐', alt: '辉夜大小姐', width: 1, height: 1, size: { height: 300, width: 300 }, hash: 'U7K1Xj004{0000M{~pxtI^t7^$xu=}aKR$NH' },\n  { src: 'https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/是心愿卡.jpeg', title: '是心愿卡', alt: '是心愿卡', width: 16, height: 9, size: { height: 1080, width: 1861 }, hash: 'U2P%3C00yTRk_1D%.8IV00ITQ.k900~qn5IU' },\n  { src: 'https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/Git branch.jpeg', title: 'Git branch', alt: 'Git branch', width: 14, height: 11, size: { height: 1279, width: 1706 }, hash: 'UDI~Mr01%LR*_4M{V@kBadRPt7jZxuWCt7Rj' },\n  { src: 'https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/WechatIMG78.jpg', title: 'WechatIMG78', alt: 'WechatIMG78', width: 14, height: 11, size: { height: 1279, width: 1706 }, hash: 'U38W?I+?^H_2L4024=?H58t6g2NGDO?a%19G' },\n  { src: 'https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/1px引发的血案.jpeg', title: '1px引发的血案', alt: '1px引发的血案', width: 14, height: 11, size: { height: 1278, width: 1706 }, hash: 'U7F5y.0000Dk00~pIU?Z0LnO^+NIWXkDIU%1' },\n  { src: 'https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/打羽毛球的第一天.jpg', title: '打羽毛球的第一天', alt: '打羽毛球的第一天', width: 9, height: 12, size: { height: 1440, width: 1080 }, hash: 'U8Ef4t00_N8_3D8w%#IA9GIptRV[9GtRWoo2' },\n  { src: 'https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/WechatIMG20.jpg', title: 'WechatIMG20', alt: 'WechatIMG20', width: 13, height: 11, size: { height: 1279, width: 1514 }, hash: 'UAE2F71ZF4}VR702$i%y9Z?as:D%01^*EOIA' },\n  { src: 'https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/Im f**king love these guys.jpeg', title: 'Im f**king love these guys', alt: 'Im f**king love these guys', width: 5, height: 4, size: { height: 488, width: 621 }, hash: 'UEE{nFu3%dIUOjXSNuNG~oMyRpa$MceUsFog' },\n  { src: 'https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/WebRTC IS AWESOME.jpeg', title: 'WebRTC IS AWESOME', alt: 'WebRTC IS AWESOME', width: 14, height: 9, size: { height: 1080, width: 1728 }, hash: 'UIP%Isxu00?bIUkBWBju~qRj?bRjM{ofayay' },\n]\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\n\nimport App from './App.js'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('app')\n)\n"],"sourceRoot":""}