(this.webpackJsonpgallery=this.webpackJsonpgallery||[]).push([[0],{115:function(A,t,e){"use strict";e.r(t);var g=e(0),i=e.n(g),h=e(4),n=e.n(h),l=(e(48),e(2));var o=function(){return Object(l.jsxs)("footer",{children:[Object(l.jsx)("span",{children:"\xa9 "})," 2022 ",Object(l.jsx)("a",{href:"https://tomotoes.com/",target:"blank",children:"TOMOTOES.COM"})]})},r=e(37);const s=(A,t)=>(t||(t=0),Number(`${Math.round(`${A}e${t}`)}e-${t}`)),c=["iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mO0Scz4DwAD7AIGykeHNgAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNsfP3lPwAHtgNhjbed3QAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mO08+/9DwAECAIbYvarOwAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mPUSjf9DwADUAHH2R4+qQAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mPsmL/9PwAGdALfLLTZgwAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mMM2FD3HwAFVQJ/wQSakQAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mOcUtf+HwAF4QKaLYURggAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mO007D9DwAC8wGkgAj2wQAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mPk7Z/6HwAEFAIygk/bbQAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mM85i3/HwAFQAIxwDfEwwAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mMU9Hj3HwAEAQJI0J8X3wAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNUk+f6DwACEgFQ4cywdAAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mOcd/rmfwAHlANDxXJFGwAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNsSun9DwAFVwJ0Dslp5gAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNMMSz/DwAEGgINf5zfKgAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNcVZn/HwAF+gKTwpRdtAAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNcVZn/HwAF+gKTwpRdtAAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mN0z4z6DwAEFAILQQRF+gAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNMnnr4PwAF2gK8g2AjSgAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8/WT+fwAI3wN/ghaxIAAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mOsyAz6DwAEyAI0CG2DPQAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mOM3dv8HwAFugKeFHNe2gAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mOsLSv4DwAFPwJkf7xuOwAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNstk38DwAEjgIiTpcmsQAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8/7/wPwAI5ANwEHGVPQAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkyuj5DwADYQH3Gb9KdwAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mO8cXX9fwAIRgNdOpasaAAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mN80S37HwAGhAKRsld48QAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mM85tf3HwAGJwKj3F8CBQAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mN8rhn2HwAFzAJnxf9sDQAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mM8fP/ufwAIbAOAdKkwIAAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mM85tf3HwAGJwKj3F8CBQAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mMMbnrxHwAFqwK+oiXE3gAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mOcmvfiPwAGdwLsInOerQAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mOcI9v1HwAE5AJEQOnd/AAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mM03nvtPwAFuALHzaThLAAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mOsLSv4DwAFPwJkf7xuOwAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNMter+DwAEYQIr1DLJIQAAAABJRU5ErkJggg==","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP81nPmPwAIHQNPG1c/KwAAAABJRU5ErkJggg=="].map((A=>"data:image/png;base64,"+A));var d=()=>c[Math.floor(Math.random()*c.length)];function w(A){let{photos:t,onClick:e,margin:h,onLoad:n}=A;const[o,c]=Object(g.useState)(0),w=Object(g.useRef)(null);Object(g.useLayoutEffect)((()=>{let A=null;const t=new r.a((t=>{const e=t[0].contentRect.width;o!==e&&(A=window.requestAnimationFrame((()=>{c(Math.floor(e))})))}));return t.observe(w.current),()=>{t.disconnect(),window.cancelAnimationFrame(A)}}));const[a,E]=Object(g.useMemo)((()=>{const A=(A=>{let t=1;return A>=500&&(t=2),A>=900&&(t=3),A>=1500&&(t=4),A>=2200&&(t=5),A>=3e3&&(t=6),A>=3800&&(t=7),A>=4500&&(t=8),A>=5300&&(t=9),t})(o),e=(A=>{let{photos:t,columns:e,containerWidth:g,margin:i}=A,h=(g-2*i*e)/e;const n=t.map((A=>{const t=A.height/A.width*h;return{...A,width:s(h,1),height:s(t,1)}})),l=[],o=[];for(let r=0;r<e;r++)l[r]=s(r*(h+2*i),1),o[r]=0;return n.map((A=>{const t=o.reduce(((A,t,e)=>t<o[A]?e:A),0);A.top=o[t],A.left=l[t],o[t]=o[t]+A.height+2*i;const e=o.reduce(((A,t,e)=>t>o[A]?e:A),0);return A.containerHeight=o[e],A}))})({containerWidth:o-1,columns:A,margin:h,photos:t}),g={position:"relative"};return e.length>0&&(g.height=e[e.length-1].containerHeight),[e,g]}),[o,h,t]),U=Object(g.useCallback)(((A,g)=>{let{index:i}=g;e(A,{index:i,photo:t[i],previous:t[i-1]||null,next:t[i+1]||null})}),[e,t]),p=Object(g.useMemo)((()=>Array.from({length:t.length},(()=>i.a.createRef()))),[t.length]);Object(g.useEffect)((()=>{n(p.map((A=>{let{current:t}=A;return t})))}),[n,p]);const R=Object(g.useMemo)((()=>Array.from({length:t.length},d)),[t.length]);return Object(l.jsx)("div",{id:"gallery",ref:w,style:E,children:a.map(((A,t)=>{const{src:e,top:g,left:i,width:n,height:o,title:r,alt:s}=A,c=R[t],d={position:"absolute",top:g,left:i,width:n,height:o,margin:h,background:`url(${c})`};return Object(l.jsxs)("div",{className:"photo",style:d,onClick:e=>{U(e,{photo:A,index:t})},children:[Object(l.jsx)("img",{ref:p[t],src:c,"data-original":e,width:n,height:o,alt:s,title:r}),Object(l.jsx)("span",{children:r})]},e)}))})}w.defaultProps={margin:8};var a=i.a.memo(w),E=e(11);function U(A){let{viewerIsOpen:t,photos:e,currentPhoto:g,closeLightbox:i}=A;return Object(l.jsx)(E.b,{children:t?Object(l.jsx)(E.a,{onClose:i,children:Object(l.jsx)(E.c,{currentIndex:g,showNavigationOnTouchDevice:!0,views:e.map((A=>{let{src:t,title:e,size:{height:g,width:i}}=A;return{src:t,caption:e,width:i,height:g}}))})}):null})}var p=i.a.memo(U);const R=(A,t)=>{let e,g,i;return function(){const h=this,n=arguments;if(!e)return e=!0,A.apply(h,n),void(i=Date.now());clearTimeout(g),g=setTimeout((function(){Date.now()-i>=t&&(A.apply(h,n),i=Date.now())}),Math.max(t-(Date.now()-i),0))}};function m(A){const t=A.getBoundingClientRect(),e=window.innerHeight||document.documentElement.clientHeight,g=window.innerWidth||document.documentElement.clientWidth,i=t.top<=e&&t.top+t.height>=0,h=t.left<=g&&t.left+t.width>=0;return!(!i||!h)||t.left>=0&&t.top>=0&&t.left+t.width<=g&&t.top+t.height<=e}function J(A){if(!A||!A.length||A.every((A=>!A)))return;const t=Array.from({length:A.length});function e(A,e){const g=new Image,i=A.dataset.original;g.src=i,g.onload=function(){A.classList.add("loaded"),A.src=i,t[e]=!0},g.onerror=function(){t[e]=!0}}const g=R(i,120);function i(){if(t.every((A=>!!A)))window.removeEventListener("scroll",g);else for(let g=0;g<A.length;++g)!t[g]&&m(A[g])&&e(A[g],g)}window.addEventListener("scroll",g,!1),setTimeout(i,0)}const S=(B=[{src:"https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/\ud83e\udeb6.jpeg",title:"\ud83e\udeb6",alt:"\ud83e\udeb6",width:39,height:29,size:{height:3472,width:4624}},{src:"https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/\ud83e\udd21.jpeg",title:"\ud83e\udd21",alt:"\ud83e\udd21",width:14,height:11,size:{height:1278,width:1706}},{src:"https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/\ud83d\ude87\ud83c\udf27\ud83c\udfe0.jpeg",title:"\ud83d\ude87\ud83c\udf27\ud83c\udfe0",alt:"\ud83d\ude87\ud83c\udf27\ud83c\udfe0",width:34,height:23,size:{height:2771,width:4032}},{src:"https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/\ud83d\ude3e.jpeg",title:"\ud83d\ude3e",alt:"\ud83d\ude3e",width:14,height:11,size:{height:1278,width:1706}},{src:"https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/\ud83d\udc9a.jpeg",title:"\ud83d\udc9a",alt:"\ud83d\udc9a",width:29,height:39,size:{height:4624,width:3472}},{src:"https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/\ud83d\udc76\ud83c\udffb\ud83d\udd4a.jpeg",title:"\ud83d\udc76\ud83c\udffb\ud83d\udd4a",alt:"\ud83d\udc76\ud83c\udffb\ud83d\udd4a",width:39,height:29,size:{height:3472,width:4624}},{src:"https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/\ud83c\udc04\ufe0f.jpeg",title:"\ud83c\udc04\ufe0f",alt:"\ud83c\udc04\ufe0f",width:14,height:11,size:{height:1278,width:1706}},{src:"https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/\u9ed1\u767d\ud83d\udc1f.png",title:"\u9ed1\u767d\ud83d\udc1f",alt:"\u9ed1\u767d\ud83d\udc1f",width:1,height:1,size:{height:910,width:914}},{src:"https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/\u8f89\u591c\u5927\u5c0f\u59d0.jpg",title:"\u8f89\u591c\u5927\u5c0f\u59d0",alt:"\u8f89\u591c\u5927\u5c0f\u59d0",width:1,height:1,size:{height:300,width:300}},{src:"https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/\u8001\u6811\u660f\u9e26.jpeg",title:"\u8001\u6811\u660f\u9e26",alt:"\u8001\u6811\u660f\u9e26",width:14,height:11,size:{height:1279,width:1706}},{src:"https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/\u662f\u5fc3\u613f\u5361.jpeg",title:"\u662f\u5fc3\u613f\u5361",alt:"\u662f\u5fc3\u613f\u5361",width:16,height:9,size:{height:1080,width:1861}},{src:"https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/\u65e0\u516c\u4f17\u53f7.jpg",title:"\u65e0\u516c\u4f17\u53f7",alt:"\u65e0\u516c\u4f17\u53f7",width:9,height:19,size:{height:2280,width:1080}},{src:"https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/\u649e\u8272.jpg",title:"\u649e\u8272",alt:"\u649e\u8272",width:1,height:1,size:{height:1080,width:1080}},{src:"https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/\u6258\u5c14\u5927\u5927.png",title:"\u6258\u5c14\u5927\u5927",alt:"\u6258\u5c14\u5927\u5927",width:1,height:1,size:{height:1744,width:1770}},{src:"https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/\u6253\u7fbd\u6bdb\u7403\u7684\u7b2c\u4e00\u5929.jpg",title:"\u6253\u7fbd\u6bdb\u7403\u7684\u7b2c\u4e00\u5929",alt:"\u6253\u7fbd\u6bdb\u7403\u7684\u7b2c\u4e00\u5929",width:9,height:12,size:{height:1440,width:1080}},{src:"https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/\u5fc3\u91cc\u7684\u82b1.jpeg",title:"\u5fc3\u91cc\u7684\u82b1",alt:"\u5fc3\u91cc\u7684\u82b1",width:39,height:29,size:{height:3472,width:4624}},{src:"https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/\u5c0f\u9e1f\u5f00\u4f1a.jpeg",title:"\u5c0f\u9e1f\u5f00\u4f1a",alt:"\u5c0f\u9e1f\u5f00\u4f1a",width:39,height:29,size:{height:3472,width:4624}},{src:"https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/\u5854.jpeg",title:"\u5854",alt:"\u5854",width:39,height:29,size:{height:3472,width:4624}},{src:"https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/\u5149\u8292\u4e07\u4e08.jpg",title:"\u5149\u8292\u4e07\u4e08",alt:"\u5149\u8292\u4e07\u4e08",width:9,height:12,size:{height:1440,width:1080}},{src:"https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/\u4e00\u822c\u9ed1.jpeg",title:"\u4e00\u822c\u9ed1",alt:"\u4e00\u822c\u9ed1",width:34,height:25,size:{height:3024,width:4032}},{src:"https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/WechatIMG22.jpg",title:"WechatIMG22",alt:"WechatIMG22",width:16,height:11,size:{height:1279,width:1943}},{src:"https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/WechatIMG21.jpg",title:"WechatIMG21",alt:"WechatIMG21",width:14,height:11,size:{height:1279,width:1706}},{src:"https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/WechatIMG20.jpg",title:"WechatIMG20",alt:"WechatIMG20",width:13,height:11,size:{height:1279,width:1514}},{src:"https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/WechatIMG19.jpg",title:"WechatIMG19",alt:"WechatIMG19",width:11,height:23,size:{height:2782,width:1279}},{src:"https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/WechatIMG18.jpg",title:"WechatIMG18",alt:"WechatIMG18",width:14,height:11,size:{height:1279,width:1706}},{src:"https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/WebRTC IS AWESOME.jpeg",title:"WebRTC IS AWESOME",alt:"WebRTC IS AWESOME",width:14,height:9,size:{height:1080,width:1728}},{src:"https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/Redirect.jpg",title:"Redirect",alt:"Redirect",width:9,height:8,size:{height:924,width:1086}},{src:"https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/Im f**king love these guys.jpeg",title:"Im f**king love these guys",alt:"Im f**king love these guys",width:5,height:4,size:{height:488,width:621}},{src:"https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/Git branch.jpeg",title:"Git branch",alt:"Git branch",width:14,height:11,size:{height:1279,width:1706}},{src:"https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/87\u306e\ud83d\udd4a.jpeg",title:"87\u306e\ud83d\udd4a",alt:"87\u306e\ud83d\udd4a",width:16,height:8,size:{height:972,width:1920}},{src:"https://cdn.jsdelivr.net/gh/SimonAKing/gallery/photos/1px\u5f15\u53d1\u7684\u8840\u6848.jpeg",title:"1px\u5f15\u53d1\u7684\u8840\u6848",alt:"1px\u5f15\u53d1\u7684\u8840\u6848",width:14,height:11,size:{height:1278,width:1706}}],(()=>{const A=document.createElement("canvas");return!(!A.getContext||!A.getContext("2d"))&&0==A.toDataURL("image/webp").indexOf("data:image/webp")})()?B.map((A=>{let{src:t,...e}=A;return{...e,src:t.replace(/((.jpg)|(.jpeg)|(.png))$/,".webp")}})):B);var B;var j=function(){const[A,t]=Object(g.useState)(0),[e,i]=Object(g.useState)(!1),h=Object(g.useCallback)(((A,e)=>{let{photo:g,index:h}=e;t(h),i(!0)}),[]),n=Object(g.useCallback)((()=>{t(0),i(!1)}),[]);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(a,{photos:S,onLoad:J,onClick:h}),Object(l.jsx)(p,{photos:S,viewerIsOpen:e,currentPhoto:A,closeLightbox:n}),Object(l.jsx)(o,{})]})};n.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(j,{})}),document.getElementById("app"))},48:function(A,t,e){}},[[115,1,2]]]);
//# sourceMappingURL=main.60e0974f.chunk.js.map